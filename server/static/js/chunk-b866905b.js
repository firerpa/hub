import{_ as m,d as h,r as x,c as f,a as e,w as v,b as i,v as n,o as g,p as w,e as b,f as l,u as I,g as S,h as k}from"./chunk-fb406dfe.js";import{_ as c,a as p}from"./chunk-a7eb19bd.js";function y(t,s){return m.postForm("/v1/user/login",{name:t,password:s})}const r=t=>(w("data-v-59bf94a4"),t=t(),b(),t),V={class:"content"},B=r(()=>e("div",{class:"left-half"},null,-1)),F={class:"right-half"},M=r(()=>e("img",{src:c,alt:"FireRPA",class:"logo"},null,-1)),R=r(()=>e("h1",{class:"user-login-text"},"用户登录",-1)),T=r(()=>e("p",{class:"user-login-description"},"输入您的凭据以访问设备管控中心",-1)),U={id:"container"},q=r(()=>e("input",{type:"submit",value:"登录"},null,-1)),A=r(()=>e("footer",{class:"footer"},[e("p",null,[l("© 2024 - present, "),e("img",{src:c,alt:"FireRPA",class:"footer-logo"}),l(".")])],-1)),L=h({__name:"Login",setup(t){const s=x({name:"",password:""}),u=I(),_=async()=>{var o;const a=await y(s.name,s.password);((o=a==null?void 0:a.data)==null?void 0:o.status)===0?(p.setToken(a.data.data.token),p.setUser(a.data.data),console.log(a.data.data),localStorage.setItem("selectedMenu","overview"),u.push("/home")):S.error("用户名或密码错误")};return(a,o)=>(g(),f("div",V,[B,e("div",F,[M,R,T,e("div",U,[e("form",{onSubmit:v(_,["prevent"]),class:"form"},[i(e("input",{type:"text",id:"name","onUpdate:modelValue":o[0]||(o[0]=d=>s.name=d),required:"",placeholder:"请输入用户名"},null,512),[[n,s.name]]),i(e("input",{type:"password",id:"password","onUpdate:modelValue":o[1]||(o[1]=d=>s.password=d),required:"",placeholder:"请输入密码"},null,512),[[n,s.password]]),q],32)])]),A]))}}),C=k(L,[["__scopeId","data-v-59bf94a4"]]);export{C as default};
